"use strict";require("net");require("http");var z={};var N={compose:function(t){return function(r){return function(n){return t(r(n))}}}};var _=function(n){return n.identity};var H={identity:function(n){return n},Semigroupoid0:function(){return N}};var Q=function(t){return function(r){return function(n){return t(n)(r)}}};const a=undefined;var j=function(n){return n.map};var o=function(n){return n.pure};var x=function(n){return n.discard};var r=function(n){return n.bind};var G=function(n){return Q(r(n))};var I={discard:function(n){return r(n)}};var J=function(n){var t=r(n.Bind1());var e=o(n.Applicative0());return function(r){return function(n){return t(r)(function(r){return t(n)(function(n){return e(r(n))})})}}};var K=function(n){return n.append};var O=function(u){return function(e){return function(t){return function(r){return function(n){return r<n?u:r===n?e:t}}}}};const U=O;var W=function(r){return function(n){return r===n}};const X=W;var Y={eq:X};var Z=function(){function n(){}n.value=new n;return n}();var $=function(){function n(){}n.value=new n;return n}();var nn=function(){function n(){}n.value=new n;return n}();var rn=function(){return{compare:U(Z.value)(nn.value)($.value),Eq0:function(){return Y}}}();var tn=function(n){return n.compare};var en=function(n){var e=tn(n);return function(t){return function(n){var r=e(t)(n);if(r instanceof $){return true}return false}}};const un=function(n){var r=n.toString();return isNaN(r+".0")?r:r+".0"};var an={show:un};var on=function(n){return n.show};var f=function(){function n(){}n.value=new n;return n}();var v=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var cn=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var fn=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var vn=function(n){return n.tailRecM};var ln=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var l=function(){function n(){}n.value=new n;return n}();var s=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var sn=function(){var n=function(a){return function(t){var e=a;var u=false;var n;function r(n,r){if(r instanceof l){u=true;return n}if(r instanceof s){e=new s(r.value0,n);t=r.value1;return}throw new Error("Failed pattern match at Data.List (line 368, column 3 - line 368, column 19): "+[n.constructor.name,r.constructor.name])}while(!u){n=r(e,t)}return n}};return n(l.value)}();var u=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var wn=function(r){var t=false;var n;function e(n){if(n.value0 instanceof l&&n.value1 instanceof l){t=true;return f.value}if(n.value0 instanceof l){r=new u(sn(n.value1),l.value);return}if(n.value0 instanceof s){t=true;return new v(new ln(n.value0.value0,new u(n.value0.value1,n.value1)))}throw new Error("Failed pattern match at Data.CatQueue (line 82, column 1 - line 82, column 63): "+[n.constructor.name])}while(!t){n=e(r)}return n};var hn=function(r){return function(n){return new u(r.value0,new s(n,r.value1))}};var mn=function(n){if(n.value0 instanceof l&&n.value1 instanceof l){return true}return false};var pn=function(){return new u(l.value,l.value)}();var t=function(){function n(){}n.value=new n;return n}();var e=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var dn=function(r){return function(n){if(r instanceof t){return n}if(n instanceof t){return r}if(r instanceof e){return new e(r.value0,hn(r.value1)(n))}throw new Error("Failed pattern match at Data.CatList (line 108, column 1 - line 108, column 54): "+[r.constructor.name,n.constructor.name])}};var gn=function(c){return function(o){return function(n){var i=function(o){return function(t){return function(e){var u=o;var a=t;var i=false;var n;function r(n,r,t){if(t instanceof l){i=true;return r}if(t instanceof s){u=n;a=n(r)(t.value0);e=t.value1;return}throw new Error("Failed pattern match at Data.CatList (line 124, column 3 - line 124, column 59): "+[n.constructor.name,r.constructor.name,t.constructor.name])}while(!i){n=r(u,a,e)}return n}}};var r=function(t){return function(e){var u=t;var a=false;var n;function r(n,r){var t=wn(n);if(t instanceof f){a=true;return i(function(r){return function(n){return n(r)}})(o)(r)}if(t instanceof v){u=t.value0.value1;e=new s(c(t.value0.value0),r);return}throw new Error("Failed pattern match at Data.CatList (line 120, column 14 - line 122, column 67): "+[t.constructor.name])}while(!a){n=r(u,e)}return n}};return r(n)(l.value)}}};var Fn=function(r){if(r instanceof t){return f.value}if(r instanceof e){return new v(new ln(r.value0,function(){var n=mn(r.value1);if(n){return t.value}return gn(dn)(t.value)(r.value1)}()))}throw new Error("Failed pattern match at Data.CatList (line 99, column 1 - line 99, column 61): "+[r.constructor.name])};var En=function(){return t.value}();var yn=dn;var Mn={append:yn};var kn=function(r){return function(n){return yn(r)(new e(n,pn))}};var Sn=function(r,t,e){var u=0;var a;return function(n){if(u===2)return a;if(u===1)throw new ReferenceError(r+" was needed before it finished initializing (module "+t+", line "+n+")",t,n);u=1;a=e();u=2;return a}};var bn=K(Mn);var An=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var c=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var w=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var Cn=function(u){var a=false;var n;function r(r){var n=function(n){return n};var t=function(r){return function(n){return new An(r.value0,bn(r.value1)(n))}};if(r.value0 instanceof c){var e=Fn(r.value1);if(e instanceof f){a=true;return new c(r.value0.value0)}if(e instanceof v){u=t(n(e.value0.value0)(r.value0.value0))(e.value0.value1);return}throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[e.constructor.name])}if(r.value0 instanceof w){a=true;return new w(r.value0.value0,function(n){return t(r.value0.value1(n))(r.value1)})}throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[r.value0.constructor.name])}while(!a){n=r(u)}return n};var Ln=function(n){var i=j(n);return function(n){var r=n.Monad0();var e=j(r.Bind1().Apply0().Functor0());var u=o(r.Applicative0());var a=vn(n);return function(t){var n=function(n){var r=Cn(n);if(r instanceof c){return e(fn.create)(u(r.value0))}if(r instanceof w){return e(cn.create)(t(i(r.value1)(r.value0)))}throw new Error("Failed pattern match at Control.Monad.Free (line 194, column 10 - line 196, column 37): "+[r.constructor.name])};return a(n)}}};var Dn=function(n){return new An(n,En)};var Bn={Applicative0:function(){return h},Bind1:function(){return i}};var Vn={map:function(t){return function(n){return G(i)(function(){var r=o(h);return function(n){return r(t(n))}}())(n)}}};var i={bind:function(r){return function(n){return new An(r.value0,kn(r.value1)(n))}},Apply0:function(){return Pn(0)}};var h={pure:function(n){return Dn(c.create(n))},Apply0:function(){return Pn(0)}};var Pn=Sn("freeApply","Control.Monad.Free",function(){return{apply:J(Bn),Functor0:function(){return Vn}}});var qn=o(h);var m=function(n){return Dn(new w(n,function(n){return qn(n)}))};var Rn=on(an);var Tn={show:function(n){return"(Milliseconds "+(Rn(n)+")")}};var zn={append:function(r){return function(n){return r+n}}};var Nn=rn;var _n=function(n){return n};function Hn(n){return n.toString()}var Qn=function(n){return n.liftEffect};const p=function(n){return function(){console.log(n)}};function jn(r){return function(){function n(n){}try{r(n)}catch(n){console.log("Error in laff",n)}}}function xn(e){return function(r){return function(t){function n(n){let r=e(n);t(r)}r(n)}}}function Gn(r){return function(n){n(r)}}function In(n){return function(t){return function(r){setTimeout(function(){n(function(n){t(n)(r)})},0)}}}function Jn(r){return function(n){n(r())}}function Kn(r){return function(n){setTimeout(function(){n()},r)}}var On=new Function("try {return this===window;}catch(e){ return false;}");var Un=function(r,t,e){var u=0;var a;return function(n){if(u===2)return a;if(u===1)throw new ReferenceError(r+" was needed before it finished initializing (module "+t+", line "+n+")",t,n);u=1;a=e();u=2;return a}};var Wn={map:xn};var Xn={Applicative0:function(){return Yn},Bind1:function(){return n}};var n={bind:In,Apply0:function(){return Zn(0)}};var Yn={pure:Gn,Apply0:function(){return Zn(0)}};var Zn=Un("applyLaff","Effect.Laff",function(){return{apply:J(Xn),Functor0:function(){return Wn}}});var $n=r(n);var nr=o(Yn);var rr={liftEffect:Jn,Monad0:function(){return Xn}};var tr={tailRecM:function(r){var t=function(n){return $n(r(n))(function(n){if(n instanceof fn){return nr(n.value0)}if(n instanceof cn){return t(n.value0)}throw new Error("Failed pattern match at Effect.Laff (line 93, column 7 - line 95, column 23): "+[n.constructor.name])})};return t},Monad0:function(){return Xn}};function er(){return Date.now()}var d=_(H);var ur=r(n);var g=Qn(rr);var F=o(Yn);var ar=x(I);var E=ar(n);var ir=on(Tn);var y=r(i);var M=o(h);var k=ar(i);var or=en(Nn);var cr=K(zn);var fr=function(){function n(){}n.value=new n;return n}();var S=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var b=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var vr=function(){function n(){}n.value=new n;return n}();var lr=function(){function n(){}n.value=new n;return n}();var sr=function(){function n(){}n.value=new n;return n}();var wr=function(){function n(){}n.value=new n;return n}();var A=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var C=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var L=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var D=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var B=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var V=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var P=function(){function e(n,r,t){this.value0=n;this.value1=r;this.value2=t}e.create=function(t){return function(r){return function(n){return new e(t,r,n)}}};return e}();var q=function(){function t(n,r){this.value0=n;this.value1=r}t.create=function(r){return function(n){return new t(r,n)}};return t}();var R=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var T=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var hr=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var mr=function(){function r(n){this.value0=n}r.create=function(n){return new r(n)};return r}();var pr=function(n){return m(new C(n,a))};var dr=function(r){return function(n){return m(new P(r,n,a))}};var gr=function(n){return m(new q(n,d))};var Fr=function(){return m(new R(d))}();var Er=function(){return m(new D(d))}();var yr=function(){return m(new A(d))}();var Mr=function(r){if(r instanceof A){return ur(g(er))(function(n){return F(r.value0(_n(n)))})}if(r instanceof C){return E(g(p("sleeping for "+ir(r.value0))))(function(){return E(Kn(r.value0))(function(){return F(r.value1)})})}if(r instanceof L){return E(g(p("deep-sleeping for "+ir(r.value0))))(function(){return E(Kn(r.value0))(function(){return F(r.value1)})})}if(r instanceof D){return E(g(p("read battery voltage")))(function(){return F(r.value0(new v(0)))})}if(r instanceof B){return E(g(p("connecting")))(function(){return F(r.value1(new v(z)))})}if(r instanceof V){return E(g(p("close connection")))(function(){return F(r.value1)})}if(r instanceof P){return E(g(p("send message "+r.value1)))(function(){return F(r.value2)})}if(r instanceof q){return E(g(p("received message DoThingA")))(function(){return F(r.value1(new v(lr.value)))})}if(r instanceof R){return E(g(p("sensor reading 0")))(function(){return F(r.value0(new v(0)))})}if(r instanceof T){return E(g(p("do thing a")))(function(){return F(r.value0)})}if(r instanceof hr){return E(g(p("do thing b")))(function(){return F(r.value0)})}if(r instanceof mr){return E(g(p("Flashing lights")))(function(){return F(r.value0)})}throw new Error("Failed pattern match at Main (line 188, column 1 - line 188, column 52): "+[r.constructor.name])};var kr={map:function(t){return function(r){if(r instanceof A){return new A(function(n){return t(r.value0(n))})}if(r instanceof C){return new C(r.value0,t(r.value1))}if(r instanceof L){return new L(r.value0,t(r.value1))}if(r instanceof D){return new D(function(n){return t(r.value0(n))})}if(r instanceof B){return new B(r.value0,function(n){return t(r.value1(n))})}if(r instanceof V){return new V(r.value0,t(r.value1))}if(r instanceof P){return new P(r.value0,r.value1,t(r.value2))}if(r instanceof q){return new q(r.value0,function(n){return t(r.value1(n))})}if(r instanceof R){return new R(function(n){return t(r.value0(n))})}if(r instanceof T){return new T(t(r.value0))}if(r instanceof hr){return new hr(t(r.value0))}if(r instanceof mr){return new mr(t(r.value0))}throw new Error("Failed pattern match at Main (line 60, column 1 - line 73, column 44): "+[t.constructor.name,r.constructor.name])}}};var Sr=Ln(kr)(tr);var br=function(){return m(new mr(a))}();var Ar=function(){return m(new hr(a))}();var Cr=function(){return m(new T(a))}();var Lr=function(n){return m(new L(n,a))};var Dr=function(n){return m(new B(n,d))};var Br=function(n){return m(new V(n,a))};var Vr=function(u){return function(e){if(e instanceof fr){return y(Er)(function(n){if(n instanceof f){return M(new b({socket:f.value}))}if(n instanceof v){var r=n.value0<3.3;if(r){return M(new b({socket:f.value}))}return y(Dr(u.connectionConfig))(function(r){if(r instanceof f){return M(new b({socket:f.value}))}if(r instanceof v){return k(dr(r.value0)("batteryVoltage"))(function(){return y(yr)(function(n){return M(new S({timeLastSendBatteryVoltage:n,socket:r.value0}))})})}throw new Error("Failed pattern match at Main (line 126, column 50 - line 131, column 98): "+[r.constructor.name])})}throw new Error("Failed pattern match at Main (line 120, column 31 - line 131, column 98): "+[n.constructor.name])})}if(e instanceof S){return k(pr(u.loopSleepPeriod))(function(){return y(gr(e.value0.socket))(function(n){if(n instanceof v&&n.value0 instanceof vr){return y(Fr)(function(n){if(n instanceof f){return M(new S(e.value0))}if(n instanceof v){return k(dr(e.value0.socket)(Hn(n.value0)))(function(){return M(new S(e.value0))})}throw new Error("Failed pattern match at Main (line 136, column 27 - line 140, column 43): "+[n.constructor.name])})}if(n instanceof v&&n.value0 instanceof lr){return k(Cr)(function(){return M(new S(e.value0))})}if(n instanceof v&&n.value0 instanceof sr){return k(Ar)(function(){return M(new S(e.value0))})}if(n instanceof v&&n.value0 instanceof wr){return k(br)(function(){return M(new S(e.value0))})}if(n instanceof f){return y(Er)(function(t){if(t instanceof f){return M(new S(e.value0))}if(t instanceof v){return y(yr)(function(r){return k(function(){var n=or(r)(cr(e.value0.timeLastSendBatteryVoltage)(u.batteryVoltageSendPeriod));if(n){return dr(e.value0.socket)("batteryVoltage")}return M(a)}())(function(){var n=t.value0<3.3;if(n){return M(new b({socket:f.value}))}return M(new S({socket:e.value0.socket,timeLastSendBatteryVoltage:r}))})})}throw new Error("Failed pattern match at Main (line 151, column 35 - line 160, column 93): "+[t.constructor.name])})}throw new Error("Failed pattern match at Main (line 134, column 40 - line 160, column 93): "+[n.constructor.name])})})}if(e instanceof b){return k(function(){if(e.value0.socket instanceof f){return M(a)}if(e.value0.socket instanceof v){return Br(e.value0.socket.value0)}throw new Error("Failed pattern match at Main (line 162, column 8 - line 164, column 37): "+[e.value0.socket.constructor.name])}())(function(){return k(Lr(u.deepSleepPeriod))(function(){return M(fr.value)})})}throw new Error("Failed pattern match at Main (line 118, column 4 - line 166, column 25): "+[e.constructor.name])}};var Pr=function(t){return function(n){var r=Vr({loopSleepPeriod:100,batteryVoltageSendPeriod:500,deepSleepPeriod:200,connectionConfig:{timeout:5e3,host:"localhost",port:9222,wifi_ssid:"hello",wifi_password:"hi"}})(n);return ur(Sr(t)(r))(function(n){return Pr(t)(n)})}};var qr=function n(){p("Hello printy printo!")();jn(Pr(Mr)(fr.value))();return a};qr();