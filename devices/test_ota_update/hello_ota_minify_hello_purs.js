const ledOn=()=>digitalWrite(D2,1),ledOff=()=>digitalWrite(D2,0);var $$const=function(n){return function(t){return n}};const unit=void 0;var map=function(n){return n.map},$$void=function(n){return map(n)($$const(unit))},apply=function(n){return n.apply},pure=function(n){return n.pure},liftA1=function(n){return function(t){return function(r){return apply(n.Apply0())(pure(n)(t))(r)}}},discard=function(n){return n.discard},bind=function(n){return n.bind},discardUnit={discard:function(n){return bind(n)}},Aff=function(){var n={},t="Pure",r="Throw",e="Catch",f="Sync",u="Async",i="Bind",c="Bracket",o="Fork",a="Sequential",l="Map",s="Apply",d="Alt",_="Cons",h="Resume",p="Release",m="Finalizer",w="Finalized",v="Forked";function A(n,t,r,e){this.tag=n,this._1=t,this._2=r,this._3=e}function y(n){var t=function(t,r,e){return new A(n,t,r,e)};return t.tag=n,t}function b(n){return new A(t,void 0)}function E(n){try{n()}catch(n){setTimeout(function(){throw n},0)}}function g(n,t,r){try{return t(r())}catch(t){return n(t)}}function k(n,t,r){try{return t(r)()}catch(t){return r(n(t))(),b}}var L=function(){var n=1024,t=0,r=0,e=new Array(n),f=!1;function u(){var u;for(f=!0;0!==t;)t--,u=e[r],e[r]=void 0,r=(r+1)%n,u();f=!1}return{isDraining:function(){return f},enqueue:function(i){var c;t===n&&(c=f,u(),f=c),e[(r+t)%n]=i,t++,f||u()}}}();var P=0,$=1,R=2,z=3,F=4,B=5,C=6;function O(n,l,s){var d=0,v=P,y=s,b=null,S=null,W=null,U=null,q=null,D=0,I=0,M=null,j=!0;function x(s){for(var I,H,Y;;)switch(I=null,H=null,Y=null,v){case R:v=$;try{y=W(y),null===U?W=null:(W=U._1,U=U._2)}catch(t){v=B,b=n.left(t),y=null}break;case z:n.isLeft(y)?(v=B,b=y,y=null):null===W?v=B:(v=R,y=n.fromRight(y));break;case $:switch(y.tag){case i:W&&(U=new A(_,W,U)),W=y._2,v=$,y=y._1;break;case t:null===W?(v=B,y=n.right(y._1)):(v=R,y=y._1);break;case f:v=z,y=g(n.left,n.right,y._1);break;case u:return v=F,void(y=k(n.left,y._1,function(n){return function(){d===s&&(d++,L.enqueue(function(){d===s+1&&(v=z,y=n,x(d))}))}}));case r:v=B,b=n.left(y._1),y=null;break;case e:q=new A(_,y,null===W?q:new A(_,new A(h,W,U),q,S),S),W=null,U=null,v=$,y=y._1;break;case c:D++,q=new A(_,y,null===W?q:new A(_,new A(h,W,U),q,S),S),W=null,U=null,v=$,y=y._1;break;case o:v=z,I=O(n,l,y._2),l&&l.register(I),y._1&&I.run(),y=n.right(I);break;case a:v=$,y=T(n,l,y._1)}break;case B:if(W=null,U=null,null===q)v=C,y=S||b||y;else switch(I=q._3,Y=q._1,q=q._2,Y.tag){case e:S&&S!==I&&0===D?v=B:b&&(v=$,y=Y._2(n.fromLeft(b)),b=null);break;case h:S&&S!==I&&0===D||b?v=B:(W=Y._1,U=Y._2,v=R,y=n.fromRight(y));break;case c:D--,null===b&&(H=n.fromRight(y),q=new A(_,new A(p,Y._2,H),q,I),(S===I||D>0)&&(v=$,y=Y._3(H)));break;case p:q=new A(_,new A(w,y,b),q,S),v=$,y=S&&S!==I&&0===D?Y._1.killed(n.fromLeft(S))(Y._2):b?Y._1.failed(n.fromLeft(b))(Y._2):Y._1.completed(n.fromRight(y))(Y._2),b=null,D++;break;case m:D++,q=new A(_,new A(w,y,b),q,S),v=$,y=Y._1;break;case w:D--,v=B,y=Y._1,b=Y._2}break;case C:for(var G in M||[])M.hasOwnProperty(G)&&(j=j&&M[G].rethrow,E(M[G].handler(y)));return M=null,void(S&&b?setTimeout(function(){throw n.fromLeft(b)},0):n.isLeft(y)&&j&&setTimeout(function(){if(j)throw n.fromLeft(y)},0));case P:v=$;break;case F:return}}function H(n){return function(){if(v===C)return j=j&&n.rethrow,n.handler(y)(),function(){};var t=I++;return(M=M||{})[t]=n,function(){null!==M&&delete M[t]}}}return{kill:function(t,r){return function(){if(v===C)return r(n.right(void 0))(),function(){};var e=H({rethrow:!1,handler:function(){return r(n.right(void 0))}})();switch(v){case P:S=n.left(t),v=C,y=S,x(d);break;case F:null===S&&(S=n.left(t)),0===D&&(v===F&&(q=new A(_,new A(m,y(t)),q,S)),v=B,y=null,b=null,x(++d));break;default:null===S&&(S=n.left(t)),0===D&&(v=B,y=null,b=null)}return e}},join:function(n){return function(){var t=H({rethrow:!1,handler:n})();return v===P&&x(d),t}},onComplete:H,isSuspended:function(){return v===P},run:function(){v===P&&(L.isDraining()?x(d):L.enqueue(function(){x(d)}))}}}function S(t,r,e,f){var i=0,c={},o=0,a={},h=new Error("[ParAff] Early exit"),p=null,m=n;function w(r,e,f){var u,i,o=e,a=null,h=null,p=0,m={};n:for(;;)switch(u=null,o.tag){case v:if(o._3===n&&(u=c[o._1],m[p++]=u.kill(r,function(n){return function(){0===--p&&f(n)()}})),null===a)break n;o=a._2,null===h?a=null:(a=h._1,h=h._2);break;case l:o=o._2;break;case s:case d:a&&(h=new A(_,a,h)),a=o,o=o._1}if(0===p)f(t.right(void 0))();else for(i=0,u=p;i<u;i++)m[i]=m[i]();return m}function y(r){return function(e){return function(){delete c[r._1],r._3=e,function r(e,u,i){var c,_,m,v,A,y;for(t.isLeft(e)?(c=e,_=null):(_=e,c=null);;){if(m=null,v=null,A=null,y=null,null!==p)return;if(null===u)return void f(c||_)();if(u._3!==n)return;switch(u.tag){case l:null===c?(u._3=t.right(u._1(t.fromRight(_))),_=u._3):u._3=c;break;case s:if(m=u._1._3,v=u._2._3,c){if(u._3=c,A=!0,y=o++,a[y]=w(h,c===m?u._2:u._1,function(){return function(){delete a[y],A?A=!1:null===i?r(c,null,null):r(c,i._1,i._2)}}),A)return void(A=!1)}else{if(m===n||v===n)return;_=t.right(t.fromRight(m)(t.fromRight(v))),u._3=_}break;case d:if(m=u._1._3,v=u._2._3,m===n&&t.isLeft(v)||v===n&&t.isLeft(m))return;if(m!==n&&t.isLeft(m)&&v!==n&&t.isLeft(v))c=_===m?v:m,_=null,u._3=c;else if(u._3=_,A=!0,y=o++,a[y]=w(h,_===m?u._2:u._1,function(){return function(){delete a[y],A?A=!1:null===i?r(_,null,null):r(_,i._1,i._2)}}),A)return void(A=!1)}null===i?u=null:(u=i._1,i=i._2)}}(e,r._2._1,r._2._2)}}}return function(){var f,u,o=$,a=e,h=null,p=null;n:for(;;)switch(f=null,u=null,o){case $:switch(a.tag){case l:h&&(p=new A(_,h,p)),h=new A(l,a._1,n,n),a=a._2;break;case s:h&&(p=new A(_,h,p)),h=new A(s,n,a._2,n),a=a._1;break;case d:h&&(p=new A(_,h,p)),h=new A(d,n,a._2,n),a=a._1;break;default:u=i++,o=B,f=a,a=new A(v,u,new A(_,h,p),n),(f=O(t,r,f)).onComplete({rethrow:!1,handler:y(a)})(),c[u]=f,r&&r.register(f)}break;case B:if(null===h)break n;h._1===n?(h._1=a,o=$,a=h._2,h._2=n):(h._2=a,a=h,null===p?h=null:(h=p._1,p=p._2))}for(m=a,u=0;u<i;u++)c[u].run()}(),function(n){return new A(u,function(r){return function(){return function(n,r){var e;for(var f in p=t.left(n),a)if(a.hasOwnProperty(f))for(f in e=a[f])e.hasOwnProperty(f)&&e[f]();a=null;var i=w(n,m,r);return function(n){return new A(u,function(n){return function(){for(var n in i)i.hasOwnProperty(n)&&i[n]();return b}})}}(n,r)}})}}function T(n,t,r){return new A(u,function(e){return function(){return S(n,t,r,e)}})}return A.EMPTY=n,A.Pure=y(t),A.Throw=y(r),A.Catch=y(e),A.Sync=y(f),A.Async=y(u),A.Bind=y(i),A.Bracket=y(c),A.Fork=y(o),A.Seq=y(a),A.ParMap=y(l),A.ParApply=y(s),A.ParAlt=y(d),A.Fiber=O,A.Supervisor=function(n){var t={},r=0,e=0;return{register:function(n){var f=r++;n.onComplete({rethrow:!0,handler:function(n){return function(){e--,delete t[f]}}})(),t[f]=n,e++},isEmpty:function(){return 0===e},killAll:function(u,i){return function(){if(0===e)return i();var c=0,o={};function a(r){o[r]=t[r].kill(u,function(t){return function(){delete o[r],c--,n.isLeft(t)&&n.fromLeft(t)&&setTimeout(function(){throw n.fromLeft(t)},0),0===c&&i()}})()}for(var l in t||[])t.hasOwnProperty(l)&&(c++,a(l));return t={},r=0,e=0,function(n){return new A(f,function(){for(var n in o||[])o.hasOwnProperty(n)&&o[n]()})}}}}},A.Scheduler=L,A.nonCanceler=b,A}();const _pure=Aff.Pure;function _map(n){return function(t){return t.tag===Aff.Pure.tag?Aff.Pure(n(t._1)):Aff.Bind(t,function(t){return Aff.Pure(n(t))})}}function _bind(n){return function(t){return Aff.Bind(n,t)}}const _liftEffect=Aff.Sync;function _makeFiber(n,t){return function(){return Aff.Fiber(n,null,t)}}const _delay=function(){return function(n,t){return Aff.Async(function(r){return function(){var e,f,u=(e=t,f=r(n()),0===e&&"undefined"!=typeof setImmediate?setImmediate(f):setTimeout(f,e));return function(){return Aff.Sync(function(){return n((r=u,0===t&&"undefined"!=typeof clearImmediate?clearImmediate(r):clearTimeout(r)));var r})}}})}}();var ap=function(n){return function(t){return function(r){return bind(n.Bind1())(t)(function(t){return bind(n.Bind1())(r)(function(r){return pure(n.Applicative0())(t(r))})})}}},Left=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}(),Right=function(){function n(n){this.value0=n}return n.create=function(t){return new n(t)},n}();const pureE=function(n){return function(){return n}},bindE=function(n){return function(t){return function(){return t(n())()}}};var $runtime_lazy=function(n,t,r){var e,f=0;return function(u){if(2===f)return e;if(1===f)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+u+")",t,u);return f=1,e=r(),f=2,e}},monadEffect={Applicative0:function(){return applicativeEffect},Bind1:function(){return bindEffect}},bindEffect={bind:bindE,Apply0:function(){return $lazy_applyEffect(0)}},applicativeEffect={pure:pureE,Apply0:function(){return $lazy_applyEffect(0)}},$lazy_functorEffect=$runtime_lazy("functorEffect","Effect",function(){return{map:liftA1(applicativeEffect)}}),$lazy_applyEffect=$runtime_lazy("applyEffect","Effect",function(){return{apply:ap(monadEffect),Functor0:function(){return $lazy_functorEffect(0)}}}),functorEffect=$lazy_functorEffect(20),liftEffect=function(n){return n.liftEffect};const _unsafePartial=function(n){return n()},_crashWith=function(n){throw new Error(n)};var crashWith=function(){return _crashWith},unsafePartial=_unsafePartial,unsafeCrashWith=function(n){return unsafePartial(function(){return crashWith()(n)})},$runtime_lazy$1=function(n,t,r){var e,f=0;return function(u){if(2===f)return e;if(1===f)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+u+")",t,u);return f=1,e=r(),f=2,e}},functorAff={map:_map},ffiUtil=function(){return{isLeft:function(n){if(n instanceof Left)return!0;if(n instanceof Right)return!1;throw new Error("Failed pattern match at Effect.Aff (line 397, column 12 - line 399, column 21): "+[n.constructor.name])},fromLeft:function(n){if(n instanceof Left)return n.value0;if(n instanceof Right)return unsafeCrashWith("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 402, column 20 - line 404, column 55): "+[n.constructor.name])},fromRight:function(n){if(n instanceof Right)return n.value0;if(n instanceof Left)return unsafeCrashWith("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 407, column 21 - line 409, column 54): "+[n.constructor.name])},left:Left.create,right:Right.create}}(),makeFiber=function(n){return _makeFiber(ffiUtil,n)},launchAff=function(n){return function(){var t=makeFiber(n)();return t.run(),t}},launchAff_=function(){var n=$$void(functorEffect);return function(t){return n(launchAff(t))}}(),delay=function(n){return _delay(Right.create,n)},monadAff={Applicative0:function(){return applicativeAff},Bind1:function(){return bindAff}},bindAff={bind:_bind,Apply0:function(){return $lazy_applyAff(0)}},applicativeAff={pure:_pure,Apply0:function(){return $lazy_applyAff(0)}},$lazy_applyAff=$runtime_lazy$1("applyAff","Effect.Aff",function(){return{apply:ap(monadAff),Functor0:function(){return functorAff}}}),monadEffectAff={liftEffect:_liftEffect,Monad0:function(){return monadAff}};const log=function(n){return function(){console.log(n)}};var main=launchAff_(discard(discardUnit)(bindAff)(liftEffect(monadEffectAff)(log("Hello from Purescript")))(function(){return discard(discardUnit)(bindAff)(liftEffect(monadEffectAff)(log("Pin on")))(function(){return discard(discardUnit)(bindAff)(liftEffect(monadEffectAff)(ledOn))(function(){return discard(discardUnit)(bindAff)(delay(2e3))(function(){return discard(discardUnit)(bindAff)(liftEffect(monadEffectAff)(log("Pin off")))(function(){return liftEffect(monadEffectAff)(ledOff)})})})})}));main();
